CREATE TABLE PAIS
(
	ID NUMBER GENERATED ALWAYS AS IDENTITY,
	DESCRIPCION_PAIS VARCHAR2 (255 BYTE)
)TABLESPACE UBER;

ALTER TABLE PAIS ADD CONSTRAINT "PK_PAIS_ID" PRIMARY KEY (ID);

CREATE TABLE CIUDADES
(
	ID NUMBER GENERATED ALWAYS AS IDENTITY,	
	DESCRIPCION_CIUDAD VARCHAR2 (255 BYTE),
	PAIS_ID	NUMBER
)TABLESPACE UBER;

ALTER TABLE CIUDADES ADD CONSTRAINT "PK_CIUDADES_ID" PRIMARY KEY (ID);
ALTER TABLE CIUDADES ADD CONSTRAINT "FK_CIUDADES_ID_PAIS" FOREIGN KEY (PAIS_ID) REFERENCES PAIS(ID);

CREATE TABLE USUARIOS
(
	ID NUMBER GENERATED ALWAYS AS IDENTITY,
	IDENTIFICACION VARCHAR2 (255 BYTE),
	NOMBRES VARCHAR2 (255 BYTE),
	APELLIDOS VARCHAR2 (255 BYTE),
	CELULAR VARCHAR2 (255 BYTE),
	ID_PAIS VARCHAR2 (255 BYTE),
	URL_FOTO VARCHAR2 (255 BYTE),
	IDIOMA VARCHAR2 (255 BYTE),
	CODIGO_INVITACION VARCHAR2 (255 BYTE),
	EMAIL VARCHAR2 (255 BYTE),
	EMAIL_2 VARCHAR2 (255 BYTE),
	TIPO_USUARIO_ID NUMBER
) TABLESPACE UBER;

ALTER TABLE USUARIOS ADD CONSTRAINT "PK_USUARIO_ID" PRIMARY KEY (ID);
ALTER TABLE USUARIOS ADD CONSTRAINT "FK_USUARIOS_ID_PAIS" FOREIGN KEY (ID_PAIS) REFERENCES PAIS(ID);
ALTER TABLE USUARIOS ADD CONSTRAINT "FK_USUARIOS_ID_TIPO_USUARIO" FOREIGN KEY (TIPO_USUARIO_ID) REFERENCES TIPO_USUARIO(ID);

CREATE TABLE TIPO_USUARIO
(
	ID NUMBER GENERATED ALWAYS AS IDENTITY,	
	TIPO_USUARIO VARCHAR2 (255 BYTE)
)TABLESPACE UBER;

ALTER TABLE TIPO_USUARIO ADD CONSTRAINT "PK_TIPO_USUARIO_ID" PRIMARY KEY (ID);


CREATE TABLE VEHICULOS
(
	ID NUMBER GENERATED ALWAYS AS IDENTITY,
	NRO_PLACA VARCHAR2(255 BYTE),	
	MARCA VARCHAR2(255 BYTE),	
	MODELO NUMBER,
	TIPO_SERVICIO VARCHAR2(255 BYTE)
) TABLESPACE UBER;


ALTER TABLE VEHICULOS ADD CONSTRAINT "PK_VEHICULOS_ID" PRIMARY KEY (ID);
ALTER TABLE VEHICULOS ADD CONSTRAINT "CH_TIPO_SERVICIO" CHECK (TIPO_SERVICIO IN ('UbeX', 'Uber Black'));

CREATE TABLE VIAJES
(
	ID NUMBER GENERATED ALWAYS AS IDENTITY,
	USUARIO_ID NUMBER,
	DIRECCION ORIGEN VARCHAR2(255 BYTE),
	DIRECCION_DESTINO VARCHAR (255 BYTE),
	HORA_SALIDA TIMESTAMP,
	HORA_LLEGADA  TIMESTAMP,
	ESTADO_VIAJE VARCHAR(255 BYTE),,
	DISTANCIA_RECORRIDA NUMBER,
	CIUDAD_ID NUMBER
)TABLESPACE UBER;

ALTER TABLE VIAJES ADD CONSTRAINT "PK_VIAJES_ID" PRIMARY KEY (ID);
--ALTER TABLE VIAJES ADD CONSTRAINT "FK_VIAJES_ID_PAIS" FOREIGN KEY (USUARIO_ID) REFERENCES USUARIOS(ID);
ALTER TABLE VIAJES ADD CONSTRAINT "FK_VIAJES_ID_PAIS" FOREIGN KEY (CIUDAD_ID) REFERENCES CIUDADES(ID);


CREATE TABLE MEDIOS_PAGO
(
	ID NUMBER GENERATED ALWAYS AS IDENTITY,
	DESCRIPCION_TRAJETA VARCHAR2(255 BYTE)
)TABLESPACE UBER;

ALTER TABLE MEDIOS_PAGO ADD CONSTRAINT "PK_MEDIOS_PAGOS" PRIMARY KEY (ID);




